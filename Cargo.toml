[package]
name = "personal_agent"
version = "0.1.0"
edition = "2021"

[[bin]]
name = "personal_agent"
path = "src/main.rs"

[[bin]]
name = "personal_agent_menubar"
path = "src/main_menubar.rs"

[dependencies]
eframe = "0.29"
egui = "0.29"
tray-icon = "0.21"
image = "0.25"
tracing = "0.1"
tracing-subscriber = "0.3"
objc2 = "0.6"
objc2-app-kit = { version = "0.3", features = [
    "NSAppearance",
    "NSApplication",
    "NSColor",
    "NSEvent",
    "NSFont",
    "NSImage",
    "NSMenu",
    "NSMenuItem",
    "NSPopover",
    "NSResponder",
    "NSRunningApplication",
    "NSStatusBar",
    "NSStatusBarButton",
    "NSStatusItem",
    "NSStepper",
    "NSTextField",
    "NSView",
    "NSViewController",
    "NSWindow",
    "NSStackView",
    "NSLayoutConstraint",
    "block2",
] }
objc2-foundation = { version = "0.3", features = ["NSData", "NSGeometry", "NSNotification", "NSString", "NSThread"] }
objc2-quartz-core = { version = "0.3", features = ["CALayer", "objc2-core-foundation", "objc2-core-graphics"] }
objc2-core-graphics = "0.3"
core-foundation = "0.10"
core-graphics = "0.24"
raw-window-handle = "0.6"
serde = { version = "1", features = ["derive"] }
serde_json = "1"
chrono = { version = "0.4", features = ["serde"] }
uuid = { version = "1", features = ["v4", "serde"] }
dirs = "5"
thiserror = "2"
anyhow = "1"
tokio = { version = "1.0", features = ["full"] }
futures = "0.3"
async-trait = "0.1"
reqwest = { version = "0.12", default-features = false, features = ["json", "rustls-tls"] }
serdes-ai = { path = "research/serdesAI/serdes-ai", features = ["openai", "anthropic"] }
dispatch = "0.2"

[dev-dependencies]
tempfile = "3"
rstest = "0.18"
wiremock = "0.6"

[lints.rust]
unsafe_code = "warn"

[lints.clippy]
all = { level = "deny", priority = -1 }
pedantic = "warn"
nursery = "warn"
cognitive_complexity = "warn"
